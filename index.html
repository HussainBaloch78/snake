<!DOCTYPE html>
<html>
    <head>
        <title>Snake Game Home</title>
        
        <!--Import Google Icon Font-->
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
        
        <!--Import materialize.css-->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css" />
    
        <link rel="stylesheet" href="./assets/css/main.css" />
    
        <!--Let browser know website is optimized for mobile-->
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />

        <script src="https://code.iconify.design/1/1.0.4/iconify.min.js"></script>
    
        <style type="text/css">
            .content
            {
                margin: 0 auto;
                width: 300px;
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -35%);
            }
      
            #nav
            {
                margin: 0 auto;
            }
        </style>
    </head>

    <body>
        <div id="nav">
            <div class="navbar-fixed">
                <nav>
                    <div class="nav-wrapper">
                        <a href="#" class="left styling">&nbsp;&nbsp;Feed the Snake</a>
                        <ul class="right hide-on-small-and-down">
                            <li>
                                <div class="toggle-container">
                                    <label>
                                        <input class='toggle-checkbox' id="toggle-checkbox" type='checkbox'></input>
                                        <div class='toggle-slot'>
                                            <div class='sun-icon-wrapper'>
                                                <div class="iconify sun-icon" data-icon="feather-sun" data-inline="false"></div>
                                            </div>
                                            <div class='toggle-button'></div>
                                            <div class='moon-icon-wrapper'>
                                                <div class="iconify moon-icon" data-icon="feather-moon" data-inline="false"></div>
                                            </div>
                                        </div>
                                    </label>
                                </div>
                            </li>
                            <li class="active red list"><a href="index.html">Select Maze</a></li>
                            <li class="list"><a href="./pages/difficultyDefault.html">Difficulty</a></li>
                            <li class="list"><a href="./pages/instruction.html">Instructions</a></li>
                        </ul>
                    </div>
                </nav>
            </div>
        </div>

        <div class="mainContent">
            <ul class="mainCollection">
                <a href="javascript:choose_difficulty('limitless')">
                    <li class="collection-item avatar listItem">
                        <div style="display: inline-block;position: relative; top: -20px;margin-right: 30px;margin-left: 20px;">
                            <i style="color: white;padding: 5px;" class="material-icons circle purple darken-2">accessibility</i>
                        </div>
                        <div style="display: inline-block;">
                            <p>
                                LIMITLESS <br>  
                                No Boundary<br />
                                Apprentice
                            </p>
                        </div>
                        <!-- <a href="#!" class="secondary-content"><i class="material-icons">send</i></a> -->
                    </li>
                </a>
                <a href="javascript:choose_difficulty('keep')">
                    <li class="collection-item avatar listItem">
                        <div style="display: inline-block;position: relative; top: -20px;margin-right: 30px;margin-left: 20px;">
                            <i style="color: white;padding: 5px;" class="material-icons circle green accent-3">radio_button_unchecked</i>
                        </div>
                        <div style="display: inline-block;">
                            <p>
                                KEEP IT IN <br>
                                Boundary all over the field<br />
                                Trained
                            </p>
                        </div>
                        <!-- <a href="#!" class="secondary-content"><i class="material-icons">send</i></a> -->
                    </li>
                </a>
                <a href="javascript:choose_difficulty('sneak')">
                    <li class="collection-item avatar listItem">
                        <div style="display: inline-block;position: relative; top: -20px;margin-right: 30px;margin-left: 20px;">
                            <i style="color: white;padding: 5px;" class="material-icons circle amber darken-2">crop_free</i>
                        </div>
                        <div style="display: inline-block;">
                            <p>
                                SNEAK PAST<br/>
                                Small Gaps<br />
                                Able
                            </p>
                        </div>
                        <!-- <a href="#!" class="secondary-content"><i class="material-icons">send</i></a> -->
                    </li>
                </a>
                <a href="javascript:choose_difficulty('watch')">
                    <li class="collection-item avatar listItem">
                        <div style="display: inline-block;position: relative; top: -20px;margin-right: 30px;margin-left: 20px;">
                            <i style="color: white;padding: 5px;" class="material-icons circle deep-orange darken-1">record_voice_over</i>
                        </div>
                        <div style="display: inline-block;">
                            <p>
                                WATCH YOUR HEAD <br>
                                Barriers In Between<br />
                                Competent
                            </p>
                        </div>
                        <!-- <a href="#!" class="secondary-content"><i class="material-icons">send</i></a> -->
                    </li>
                </a>
                <a href="javascript:choose_difficulty('death')">
                    <li class="collection-item avatar listItem">
                        <div style="display: inline-block;position: relative; top: -20px;margin-right: 30px;margin-left: 20px;">
                            <i style="color: white;padding: 5px;" class="material-icons circle red accent-4">nfc</i>
                        </div>
                        <div style="display: inline-block;">
                            <p>
                                DEATH TRAP<br/>
                                Caged Field<br />
                                Experienced
                            </p>
                        </div>
                        <!-- <a href="#!" class="secondary-content"><i class="material-icons">send</i></a> -->
                    </li>
                </a>
            </ul>
        </div>
        
        <script type="text/javascript" src='./assets/js/index.js'></script>
        
        <!--JavaScript at end of body for optimized loading-->
            <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

            <script>
                const themeButton = document.getElementById('toggle-checkbox');
                const darkTheme = 'dark';

                // Previously selected topic (if user selected)
                const selectedTheme = localStorage.getItem('selected-theme');
            
                // We obtain the current theme that the interface has by validating the dark-theme class
                const getCurrentTheme = () => document.body.classList.contains(darkTheme) ? 'dark' : 'light';
                
                //all the elements to be toggled
                const nav = document.querySelectorAll('nav');
                const listitem = document.querySelectorAll('.listItem');
                const mainCollection = document.querySelectorAll('.mainCollection');
                
                // We validate if the user previously chose a topic
                if(selectedTheme)
                {
                    // If the validation is fulfilled, we ask what the issue was to know if we activated or deactivated the dark
                    document.body.classList[selectedTheme === 'dark' ? 'add' : 'remove'](darkTheme);


                    //all the elements to be toggled
                    for(let i=0;i<nav.length;i++)
                        nav[i].classList[selectedTheme === 'dark' ? 'add' : 'remove'](darkTheme);

                    for(let i=0;i<listitem.length;i++)
                        listitem[i].classList[selectedTheme === 'dark' ? 'add' : 'remove'](darkTheme);

                    for(let i=0;i<mainCollection.length;i++)
                        mainCollection[i].classList[selectedTheme === 'dark' ? 'add' : 'remove'](darkTheme);
                    



                        if(selectedTheme === 'dark')
                        {
                        themeButton.checked = true;
                        }
                        else
                        {
                            themeButton.checked = false;
                        }
                }
                else
                {
                    themeButton.checked = false;
                }

                // Activate / deactivate the theme manually with the button
                themeButton.addEventListener('change', () =>
                {
                    // Add or remove the dark / icon theme
                    document.body.classList.toggle(darkTheme);
                    
                    //all the elements to be toggled
                    for(let i=0;i<nav.length;i++)
                        nav[i].classList.toggle(darkTheme);
                    
                    for(let i=0;i<listitem.length;i++)
                        listitem[i].classList.toggle(darkTheme);

                    for(let i=0;i<mainCollection.length;i++)
                        mainCollection[i].classList.toggle(darkTheme);
                    
                    // We save the theme and the current icon that the user chose
                    localStorage.setItem('selected-theme', getCurrentTheme());
                });
                </script>
    </body>
</html>
